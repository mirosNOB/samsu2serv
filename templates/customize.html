{% extends "base.html" %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è - –§–æ—Ä—É–º{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
        <div class="card shadow mb-4">
            <div class="card-header bg-dark text-white">
                <h4 class="mb-0">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h4>
            </div>
            <div class="card-body">
                <div class="text-center mb-4">
                    <img src="{{ url_for('static', filename=current_user.avatar) }}" alt="{{ current_user.username }}" class="rounded-circle img-thumbnail mb-3 profile-image" style="width: 150px; height: 150px; object-fit: cover;">
                    <h3 style="color: {{ current_user.nickname_color }}" class="text-break">{{ current_user.username }}</h3>
                    {% if current_user.status %}
                    <p class="text-muted text-break">{{ current_user.status }}</p>
                    {% endif %}
                    <div class="badge bg-warning text-dark mb-3 p-2 fs-6">
                        <i class="fas fa-coins"></i> {{ current_user.coins }} –º–æ–Ω–µ—Ç
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-dark text-white">
                                –°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
                            </div>
                            <div class="card-body">
                                <form method="POST" action="{{ url_for('customize_profile') }}" enctype="multipart/form-data">
                                    <input type="hidden" name="action" value="change_avatar">
                                    <div class="mb-3">
                                        <label for="avatar" class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                                        <input class="form-control" type="file" id="avatar" name="avatar" accept="image/*" required>
                                        <div class="form-text">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PNG, JPG, JPEG, GIF</div>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-dark btn-lg fw-bold">üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
                                    </div>
                                </form>
                            </div>
                            <div class="card-footer bg-light">
                                <small class="text-muted">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –º–æ–Ω–µ—Ç</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header bg-secondary text-white">
                                –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –Ω–∏–∫–∞
                            </div>
                            <div class="card-body">
                                <form method="POST" action="{{ url_for('customize_profile') }}">
                                    <input type="hidden" name="action" value="change_color">
                                    <div class="mb-3">
                                        <label for="nickname_color" class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç</label>
                                        <input type="color" class="form-control form-control-color w-100" id="nickname_color" name="nickname_color" value="{{ current_user.nickname_color }}" required>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-dark" {% if current_user.coins < 5 %}disabled{% endif %}>
                                            –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç (5 <i class="fas fa-coins"></i>)
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div class="card-footer bg-light">
                                <small class="text-muted">–°—Ç–æ–∏–º–æ—Å—Ç—å: 5 –º–æ–Ω–µ—Ç</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-dark text-white">
                                –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ñ–∏–ª—è
                            </div>
                            <div class="card-body">
                                <form method="POST" action="{{ url_for('customize_profile') }}">
                                    <input type="hidden" name="action" value="change_status">
                                    <div class="mb-3">
                                        <label for="status" class="form-label">–í–∞—à —Å—Ç–∞—Ç—É—Å</label>
                                        <input type="text" class="form-control" id="status" name="status" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –õ—é–±–∏—Ç–µ–ª—å –∫–æ—Ç–∏–∫–æ–≤" value="{{ current_user.status }}" maxlength="100">
                                        <div class="form-text">–ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤</div>
                                    </div>
                                    <div class="d-grid">
                                        <button type="submit" class="btn btn-dark" {% if current_user.coins < 3 %}disabled{% endif %}>
                                            –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å (3 <i class="fas fa-coins"></i>)
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div class="card-footer bg-light">
                                <small class="text-muted">–°—Ç–æ–∏–º–æ—Å—Ç—å: 3 –º–æ–Ω–µ—Ç—ã</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="d-grid">
                    <a href="{{ url_for('profile', username=current_user.username) }}" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—Ñ–∏–ª—é
                    </a>
                </div>
            </div>
        </div>
        
        <div class="card shadow mb-4">
            <div class="card-header bg-dark text-white">
                <h4 class="mb-0">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç—ã?</h4>
            </div>
            <div class="card-body">
                <div class="alert alert-secondary">
                    <h5>–°–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è –º–æ–Ω–µ—Ç:</h5>
                    <ul>
                        <li>–û—Å—Ç–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç–∞–º - <strong>1 –º–æ–Ω–µ—Ç–∞ –∑–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</strong></li>
                        <li>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø–æ—Å—Ç—ã - –≤—Å–∫–æ—Ä–µ –º—ã –±—É–¥–µ–º –Ω–∞—á–∏—Å–ª—è—Ç—å –º–æ–Ω–µ—Ç—ã –∑–∞ –ø–æ—Å—Ç—ã —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 